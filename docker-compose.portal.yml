version: '3.8'

services:
  portal:
    build:
      context: ./apps/portal
      dockerfile: Dockerfile
    image: retire-portal:latest
    container_name: retire-portal
    restart: unless-stopped
    ports:
      - "3000:3000"
    env_file:
      - ./apps/portal/.env.production
    networks:
      - nginx-proxy-manager_default

networks:
  nginx-proxy-manager_default:
    external: true
